$(document).ready(function () {
    "use strict"; $(document).on("click", ".sub-menu", function () {
        $(this).children(".sub").toggle(); $(this).children(".sub").toggleClass("forScroll"); if ($(this).children(".sub").hasClass("forScroll")) { $("#sidebar").css({ "overflow-y": "scroll" }) }
        else { $("#sidebar").css({ "overflow-y": "auto" }) }
    })
    $(document).on("click", "#main-content .fa-trash", function () { var positionId = $(this).attr("data-id"); $(".announcement-delete-container-col .delete-position").val(positionId); $("#main-content .announcement-delete-container-col").removeClass("d-none") })
    $(document).on("click", "#main-content .announcement-delete-no", function () { $("#main-content .announcement-delete-container-col").addClass("d-none") })
    $(document).on("click", "#main-content .input-upload-mask", function () { $("#main-content .input-upload").click() })
    $(document).on("change", ".input-upload-for-advs", function (e) {
        [...e.target.files].forEach(file => {
            if (file.type.match("image/*")) {
                var fileReader = new FileReader(); fileReader.onloadend = function (event) { $(".register-message-for-advs").html([...e.target.files].length + " şəkil seçilib") }
                fileReader.readAsDataURL(file)
            }
        })
    })
    var pageCount = parseInt($(".page-count").val()); for (var i = 0; i < pageCount; i++) { $("#main-content .pagination-container .pagination-lent").append($(`<li class="" data-id="${i + 1}">${i + 1}</li>`)); $("#main-content .pagination-container .pagination-lent li").eq(0).addClass("no-ajax active") }
    var totalLiWidth = 30 * $("#main-content .pagination-lent li").length; $("#main-content .pagination-lent").css({ "width": totalLiWidth + "px" }); function FindFittingInfo() { var liData = $("#main-content .pagination-lent li.active").attr("data-id"); $("#main-content table.active").removeClass("active"); $(`#main-content table[data-id="${liData}"]`).addClass("active") }
    FindFittingInfo(); var indexLi = 0; function PrevPage() {
        indexLi--; $("#main-content .pagination-lent").css({ left: -indexLi * 30 + "px" })
        if (indexLi < 0) { indexLi = 0; $("#main-content .pagination-lent").css({ left: 0 + "px" }) }
        $("#main-content .pagination-lent li.active").removeClass("active"); $("#main-content .pagination-lent li").eq(indexLi).addClass("active"); FindFittingInfo()
    }
    function NextPage() {
        indexLi++; $("#main-content .pagination-lent").css({ left: -indexLi * 30 + "px" })
        if (indexLi == $("#main-content .pagination-lent li").length) { indexLi = $("#main-content .pagination-lent li").length - 1; $("#main-content .pagination-lent").css({ left: -indexLi * 30 + "px" }) }
        $("#main-content .pagination-lent li.active").removeClass("active"); $("#main-content .pagination-lent li").eq(indexLi).addClass("active"); FindFittingInfo()
    }
    $(document).on("click", "#main-content .pagination-container .prev-page", function () { PrevPage(); $("#main-content .pagination-container .next-page").removeClass("active"); $(this).addClass("active") })
    $(document).on("click", "#main-content .pagination-container .next-page", function () { NextPage(); $("#main-content .pagination-container .prev-page").removeClass("active"); $(this).addClass("active") })
    $(document).on("click", "#main-content .pagination-lent li", function () { $("#main-content .pagination-lent li.active").removeClass("active"); $(this).addClass("active"); var index = $(this).index(); indexLi = index; FindFittingInfo() })
    $("footer .fa-angle-up").click(function () { $("html").animate({ scrollTop: 0 }, 500) })
    $(document).on("click", "#main-content .pagination-container-for-messages .pagination-lent li", function () {
        var firstLiNoAjax = $(this).attr("class"); if (firstLiNoAjax != "no-ajax active") {
            var dataId = parseInt($(this).attr("data-id")); var skipCount = ((parseInt($(this).attr("data-id"))) - 1) * 10; $.ajax({
                url: "/Admin/AdminAJAX/GetMessagesByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-messages table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-messages").append(response); FindFittingInfo() }
            })
        }
    }); $(document).on("click", "#main-content .pagination-container-for-messages .pagination-container .prev-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-messages .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-messages .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-messages .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetMessagesByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-messages table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-messages").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-messages .pagination-container .next-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-messages .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-messages .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-messages .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetMessagesByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-messages table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-messages").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-positions .pagination-lent li", function () { var firstLiNoAjax = $(this).attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($(this).attr("data-id")); var skipCount = ((parseInt($(this).attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetPositionsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-positions table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-positions").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-positions .pagination-container .prev-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-positions .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-positions .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-positions .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetPositionsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-positions table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-positions").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-positions .pagination-container .next-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-positions .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-positions .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-positions .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetPositionsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-positions table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-positions").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-employees .pagination-lent li", function () { var firstLiNoAjax = $(this).attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($(this).attr("data-id")); var skipCount = ((parseInt($(this).attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetEmployeesByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-employees table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-employees").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-employees .pagination-container .prev-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-employees .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-employees .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-employees .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetEmployeesByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-employees table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-employees").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-employees .pagination-container .next-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-employees .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-employees .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-employees .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetEmployeesByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-employees table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-employees").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-users .pagination-lent li", function () { var firstLiNoAjax = $(this).attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($(this).attr("data-id")); var skipCount = ((parseInt($(this).attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetUsersByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-users table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-users").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-users .pagination-container .prev-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-users .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-users .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-users .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetUsersByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-users table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-users").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-users .pagination-container .next-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-users .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-users .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-users .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetUsersByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-users table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-users").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-active-announcements .pagination-lent li", function () { var firstLiNoAjax = $(this).attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($(this).attr("data-id")); var skipCount = ((parseInt($(this).attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetActiveAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-active-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-active-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-active-announcements .pagination-container .prev-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-active-announcements .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-active-announcements .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-active-announcements .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetActiveAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-active-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-active-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-active-announcements .pagination-container .next-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-active-announcements .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-active-announcements .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-active-announcements .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetActiveAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-active-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-active-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-pending-announcements .pagination-lent li", function () { var firstLiNoAjax = $(this).attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($(this).attr("data-id")); var skipCount = ((parseInt($(this).attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetPendingAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-pending-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-pending-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-pending-announcements .pagination-container .prev-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-pending-announcements .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-pending-announcements .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-pending-announcements .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetPendingAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-pending-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-pending-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-pending-announcements .pagination-container .next-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-pending-announcements .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-pending-announcements .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-pending-announcements .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetPendingAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-pending-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-pending-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-ban-announcements .pagination-lent li", function () { var firstLiNoAjax = $(this).attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($(this).attr("data-id")); var skipCount = ((parseInt($(this).attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetBanAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-ban-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-ban-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-ban-announcements .pagination-container .prev-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-ban-announcements .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-ban-announcements .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-ban-announcements .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetBanAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-ban-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-ban-announcements").append(response); FindFittingInfo() } }) } }); $(document).on("click", "#main-content .pagination-container-for-ban-announcements .pagination-container .next-page", function () { var firstLiNoAjax = $("#main-content .pagination-container-for-ban-announcements .pagination-lent li.active").attr("class"); if (firstLiNoAjax != "no-ajax active") { var dataId = parseInt($("#main-content .pagination-container-for-ban-announcements .pagination-lent li.active").attr("data-id")); var skipCount = ((parseInt($("#main-content .pagination-container-for-ban-announcements .pagination-lent li.active").attr("data-id"))) - 1) * 10; $.ajax({ url: "/Admin/AdminAJAX/GetBanAnnouncementsByPage?skipCount=" + skipCount + "&dataId=" + dataId, type: "GET", success: function (response) { $('#main-content .table-container-for-ban-announcements table[data-id="1"]').nextAll().remove(); $("#main-content .table-container-for-ban-announcements").append(response); FindFittingInfo() } }) } })
})